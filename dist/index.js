window.aemComponents=window.aemComponents||{};var m=window.aemComponents;window.aemComponentsInstances=window.aemComponentsInstances||{};var i=window.aemComponentsInstances;window.aemDeferredComponents=window.aemDeferredComponents||{};var c=window.aemDeferredComponents;var y=(t,o,n)=>{try{return new t(n,o)}catch(e){return console.error(`${o}(${n.uuid}) ERROR:`,n,e),e}},a=(t,o)=>{let n=m[t];return n?(i[t]||(i[t]=[]),o.uuid=window.crypto.randomUUID(),i[t].push(y(n,t,o)),null):(c[t]=c[t]||[],c[t].push({element:o}),console.warn(`Deferring initialisation of Component because factory cannot find a class for "${t}"`))};var f=(t=window.document,o="",n="")=>{let e=o?`[class^="${o}"]`:'[class]:not([class=""]',s=n?`${e}:not(${n})`:e,r=Array.prototype.slice.call(t.querySelectorAll(s));return t.classList.length>0&&r.push(t),r},l=(t,o)=>{let n=t.classList;return o?n.filter(e=>e.startsWith(o)):n[0]},w=(t=window.document,o="",n="")=>f(t,o,n).forEach(e=>setTimeout(()=>{e.initialized||(e.initialized=!0,l(e,o).forEach(r=>a(r,e)))})),N=(t,o=window.document,n="",e="")=>f(o,n,e).forEach(s=>setTimeout(()=>a(t,s))),h=(t=window.document,o="",n="")=>f(t,o,n).forEach(e=>setTimeout(()=>{l(e,o).forEach(r=>{i[r]&&i[r].forEach(d=>{e.uuid===d.el.uuid&&e.initialized&&d.disconnectedCallback&&d.disconnectedCallback()})})}));window.ncObservers=window.ncObservers||{};var L=(t=window.document,o="",n="")=>{let e=o||"class";window.ncObservers[e]||(window.ncObservers[e]=new MutationObserver(s=>s.forEach(r=>{let d={removedNodes:h,addedNodes:w};Object.keys(d).forEach(p=>{r[p].length>0&&Array.prototype.slice.call(r[p]).forEach(u=>{u.querySelector&&d[p](u,o,n)})})})),window.ncObservers[e].observe(t,{subtree:!0,childList:!0}))},R=(t="DOMContentLoaded",o=window.document,n="",e="")=>{document.readyState==="complete"||document.readyState==="interactive"?w(o,n,e):window.addEventListener(t,()=>{w(o,n,e)})},k=t=>{Object.keys(t).forEach(o=>{m[o]=t[o],c[o]&&(c[o].forEach(({element:n})=>a(o,n)),delete c[o])})};export{m as components,c as deferredComponents,h as destroy,R as domReady,a as factory,i as instances,L as observe,k as register,w as run,N as runComponent};
